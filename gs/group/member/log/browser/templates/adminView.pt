<tal:block repeat="monthLog options/log/monthLogs">
  <tal:block define="year monthLog/year;
    month monthLog/month;
    label monthLog/label;
    numMembersMonthEnd monthLog/numMembersMonthEnd;
    numMembersLeft monthLog/numMembersLeft;
    numMembersJoined monthLog/numMembersJoined;
    allEvents monthLog/allEvents">
    <div id="#" class="disclosureWidget"
      tal:condition="monthLog"
      tal:attributes="id string:${year}-${month}">
      <h4 tal:content="label">August 2010</h4>
      <p>
        <a href="#" class="disclosureButton">
          <span tal:replace="numMembersMonthEnd"/> members:
          <span tal:replace="numMembersLeft"/> left,
          <span tal:replace="numMembersJoined"/> joined.</a>
      </p>
      <ul class="disclosureShowHide" style="display:none;">
        <li tal:repeat="event allEvents">
          <span tal:replace="structure event/xhtml"/>
        </li>
      </ul>
    </div>
    <div id="#"
      tal:condition="not:monthLog"
      tal:attributes="id string:${year}-${month}">
      <h4 tal:content="label">August 2010</h4>
      <p>
        <span tal:replace="numMembersMonthEnd"/> members:
        <span tal:replace="numMembersLeft"/> left,
        <span tal:replace="numMembersJoined"/> joined.
      </p>
    </div>
  </tal:block>
</tal:block>
