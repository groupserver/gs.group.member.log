<div id="gs-group-member-log-all">
  <p class="muted">
    This detailed information is only visible to administrators.
    Normal members just see how many people joined and left each month.
  </p>
  <div class="btn-group">
    <a class="btn dropdown-toggle" data-toggle="dropdown" href="#">
      Show
      <span class="caret"></span>
    </a>
    <ul class="dropdown-menu">
      <li><a href="#">Show all</a></li>
      <li class="divider"></li>
      <li><a href="#">Show just joining</a></li>
      <li><a href="#">Show just leaving</a></li>
    </ul>
  </div>
  <div id="gs-group-member-log-all-list">
    <tal:block repeat="monthLog view/log/monthLogs">
      <tal:block define="year monthLog/year;
                         month monthLog/month;
                         label monthLog/label;
                         numMembersMonthEnd monthLog/numMembersMonthEnd;
                         numMembersLeft monthLog/numMembersLeft;
                         numMembersJoined monthLog/numMembersJoined;
                         allEvents monthLog/allEvents">
        <div id="#" class="disclosureWidget monthLog"
             tal:condition="monthLog"
             tal:attributes="id string:${year}-${month}">
          <h4 tal:content="label">August 2010</h4>
          <p>
            <a href="#" class="disclosureButton">
              <span tal:replace="python:numMembersMonthEnd==1 and '1 member' 
                                 or '%d members' % numMembersMonthEnd"/>:
              <span class="join-event" 
                    tal:content="string:${numMembersJoined} joined">3 joined</span><span class="join-event leave-event">,</span>
              <span class="leave-event" 
                    tal:content="string:${numMembersLeft} left">2 left</span></a>
          </p>
          <div class="disclosureShowHide" style="display: None;">
            <ul id="events" class="events"
                tal:attributes="id string:${year}-${month}-events">
              <tal:block 
                repeat="event allEvents"
                replace="structure event/xhtml"/>
            </ul><!--events-->
          </div>
        </div>
        <div id="#"
             tal:condition="not:monthLog"
             tal:attributes="id string:${year}-${month}">
          <h4 tal:content="label">August 2010</h4>
          <p>
            <span tal:replace="python:numMembersMonthEnd==1 and '1 member' 
                               or '%d members' % numMembersMonthEnd"/>
            <span tal:replace="numMembersLeft"/> left,
            <span tal:replace="numMembersJoined"/> joined
          </p>
        </div>
      </tal:block>
    </tal:block>
  </div><!--gs-group-member-log-all-list-->
  <div id="gs-group-member-log-all-none" 
       tal:condition="not:view/log/monthLogs">
    <p>No join or leave events to display.</p>
  </div><!--gs-group-member-log-all-none-->
</div><!--gs-group-member-log-all-->
